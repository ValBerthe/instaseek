\hypertarget{classuser_1_1_user}{}\section{user.\+User Class Reference}
\label{classuser_1_1_user}\index{user.\+User@{user.\+User}}
Inheritance diagram for user.\+User\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classuser_1_1_user}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classuser_1_1_user_a25681f18d7857cac8117612e68c92cc5}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a09bf41f6ea57ec2ce77fa616738d08bc}{get\+User\+Names}} (self, limit=0)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a7dfe5ca7988fd34b0c801742a5aa84e6}{get\+User\+Info\+IG}} (self)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a5b18648f492550fba80fd13478888d1d}{get\+User\+Info\+S\+QL}} (self)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a8fb05076e464cc8df275207908fd30bc}{get\+Most\+Dominant\+Colour}} (self, image)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a1876aea4aa2e915ff8e933910f2df6e4}{get\+Image\+Colorfulness}} (self, image)
\item 
def \mbox{\hyperlink{classuser_1_1_user_ab013b6d1535fe2b752a8eb5649018a1c}{get\+Contrast}} (self, img)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a5269972e3c641c50202185b171fe904b}{get\+Brand\+Presence}} (self, post)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a3fd64901698b59210a03be44ff5123e8}{get\+Brand\+Types}} (self, brands)
\item 
def \mbox{\hyperlink{classuser_1_1_user_ae21bbe88ed8f0421aba11b51df3fc03f}{get\+Comment\+Score}} (self, comment)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a817542763611c0dd2d4ae4efc997f079}{create\+Comments\+Model}} (self)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a91c0417fe409dae061a9acc84222e124}{process\+Word\+Comment}} (self, word)
\item 
def \mbox{\hyperlink{classuser_1_1_user_a2bf236a7cfb42cb97298c49d29330e69}{test\+Comment\+Score}} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classuser_1_1_user_a40419b31c47368b454fa2003b5df9307}{config}}
\begin{DoxyCompactList}\small\item\em L\textquotesingle{}utilisateur hérite de la classe {\ttfamily object}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classuser_1_1_user_a22920e0da789e7da4462f98d18f0d5f1}\label{classuser_1_1_user_a22920e0da789e7da4462f98d18f0d5f1}} 
{\bfseries username}
\item 
\mbox{\hyperlink{classuser_1_1_user_adf4a399faa3ea66427ecf7cb8a1bbb89}{sql\+Client}}
\begin{DoxyCompactList}\small\item\em Instanciation du client S\+QL. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuser_1_1_user_ad3a0ba5c1d994eef3cc7a0c5de2bfa85}{n\+\_\+clusters}}
\begin{DoxyCompactList}\small\item\em Ici, on cherche à avoir la distorsion des k-\/means des couleurs du feed. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuser_1_1_user_a31bd1f48a5a64a4319d8d93beca49706}{lastpost}}
\begin{DoxyCompactList}\small\item\em Initialisation des features pour l\textquotesingle{}apprentissage. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classuser_1_1_user_a95227c69ec5585fd19625ffdb5c3b739}\label{classuser_1_1_user_a95227c69ec5585fd19625ffdb5c3b739}} 
{\bfseries frequency}
\item 
\mbox{\hyperlink{classuser_1_1_user_a7e0889f882283a613c48be7c1c5802cb}{engagement}}
\begin{DoxyCompactList}\small\item\em Initialisation des listes de stockage pour les métriques. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classuser_1_1_user_ab7e01826b02c1fd36fe40ec3ef122619}\label{classuser_1_1_user_ab7e01826b02c1fd36fe40ec3ef122619}} 
{\bfseries followings}
\item 
\mbox{\Hypertarget{classuser_1_1_user_a6c75e0121b5cd3810b18ba8bb5415731}\label{classuser_1_1_user_a6c75e0121b5cd3810b18ba8bb5415731}} 
{\bfseries followers}
\item 
\mbox{\Hypertarget{classuser_1_1_user_a1299fa6854061f717587f485cbd65e9d}\label{classuser_1_1_user_a1299fa6854061f717587f485cbd65e9d}} 
{\bfseries usermentions}
\item 
\mbox{\Hypertarget{classuser_1_1_user_abd0372db83f1098f7b0f2d135ce16e99}\label{classuser_1_1_user_abd0372db83f1098f7b0f2d135ce16e99}} 
{\bfseries brandpresence}
\item 
\mbox{\Hypertarget{classuser_1_1_user_abb534bea6556322d857746a2bbd8d1ba}\label{classuser_1_1_user_abb534bea6556322d857746a2bbd8d1ba}} 
{\bfseries brandtypes}
\item 
\mbox{\Hypertarget{classuser_1_1_user_a5dff9881f19c6e51a38ec00ad5023b52}\label{classuser_1_1_user_a5dff9881f19c6e51a38ec00ad5023b52}} 
{\bfseries commentscore}
\item 
\mbox{\hyperlink{classuser_1_1_user_a40a93b76c643c0eb076abc8ae0f15f31}{K}}
\begin{DoxyCompactList}\small\item\em Paramètres de fonctions maths, pour ajustement de scores. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classuser_1_1_user_a6d7d87038a73b8d70d9a42527c9327bb}\label{classuser_1_1_user_a6d7d87038a73b8d70d9a42527c9327bb}} 
{\bfseries K\+\_\+}
\item 
\mbox{\Hypertarget{classuser_1_1_user_ab533b4b4d7236b1c4a18a462605fa34d}\label{classuser_1_1_user_ab533b4b4d7236b1c4a18a462605fa34d}} 
{\bfseries B}
\item 
\mbox{\hyperlink{classuser_1_1_user_a6bd90421024505f3be18cab7f2b56dd8}{Instagram\+A\+PI}}
\begin{DoxyCompactList}\small\item\em Connexion à l\textquotesingle{}A\+PI. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classuser_1_1_user_a760c3a66bfca4082009586aa5b78f2da}\label{classuser_1_1_user_a760c3a66bfca4082009586aa5b78f2da}} 
{\bfseries colorfulness\+\_\+std}
\item 
\mbox{\Hypertarget{classuser_1_1_user_aea903db123f8c9cd65025aa76a4c0555}\label{classuser_1_1_user_aea903db123f8c9cd65025aa76a4c0555}} 
{\bfseries contrast\+\_\+std}
\item 
\mbox{\Hypertarget{classuser_1_1_user_aab2a5bfc38a04a549b34e9dd2e7216e5}\label{classuser_1_1_user_aab2a5bfc38a04a549b34e9dd2e7216e5}} 
{\bfseries colors}
\item 
\mbox{\Hypertarget{classuser_1_1_user_a52f95c80145dab806b28bf825223ca74}\label{classuser_1_1_user_a52f95c80145dab806b28bf825223ca74}} 
{\bfseries color\+\_\+distorsion}
\item 
\mbox{\Hypertarget{classuser_1_1_user_a9ddb37752ef26c665dba7d0fbbeb094e}\label{classuser_1_1_user_a9ddb37752ef26c665dba7d0fbbeb094e}} 
{\bfseries colors\+\_\+dispersion}
\item 
\mbox{\Hypertarget{classuser_1_1_user_ad680260b05eb361e7062950112676ae0}\label{classuser_1_1_user_ad680260b05eb361e7062950112676ae0}} 
{\bfseries label}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Classe utilisateur.
\end{DoxyVerb}
 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classuser_1_1_user_a25681f18d7857cac8117612e68c92cc5}\label{classuser_1_1_user_a25681f18d7857cac8117612e68c92cc5}} 
\index{user\+::\+User@{user\+::\+User}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def user.\+User.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}__init__ function.
\end{DoxyVerb}
 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classuser_1_1_user_a817542763611c0dd2d4ae4efc997f079}\label{classuser_1_1_user_a817542763611c0dd2d4ae4efc997f079}} 
\index{user\+::\+User@{user\+::\+User}!create\+Comments\+Model@{create\+Comments\+Model}}
\index{create\+Comments\+Model@{create\+Comments\+Model}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{create\+Comments\+Model()}{createCommentsModel()}}
{\footnotesize\ttfamily def user.\+User.\+create\+Comments\+Model (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Crée le modèle de commentaires.

Args:
    (none)

Returns:
    (none)
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_a5269972e3c641c50202185b171fe904b}\label{classuser_1_1_user_a5269972e3c641c50202185b171fe904b}} 
\index{user\+::\+User@{user\+::\+User}!get\+Brand\+Presence@{get\+Brand\+Presence}}
\index{get\+Brand\+Presence@{get\+Brand\+Presence}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{get\+Brand\+Presence()}{getBrandPresence()}}
{\footnotesize\ttfamily def user.\+User.\+get\+Brand\+Presence (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{post }\end{DoxyParamCaption})}

\begin{DoxyVerb}Retourne les mentions utilisateur qui matchent avec les utilisateurs mentionnés dans la description du post.

Args:
    post (dict) : un post Instagram sous forme de dictionnaire.

Returns:
    (str[]) Le tableau contenant les marques détectées.
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_a3fd64901698b59210a03be44ff5123e8}\label{classuser_1_1_user_a3fd64901698b59210a03be44ff5123e8}} 
\index{user\+::\+User@{user\+::\+User}!get\+Brand\+Types@{get\+Brand\+Types}}
\index{get\+Brand\+Types@{get\+Brand\+Types}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{get\+Brand\+Types()}{getBrandTypes()}}
{\footnotesize\ttfamily def user.\+User.\+get\+Brand\+Types (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{brands }\end{DoxyParamCaption})}

\begin{DoxyVerb}Retourne les types de business que sont les 'marques' mentionnées à la fois dans la description du post et en mention utilisateur.

Args:
    brands (str[]) : le tableau des utilisateurs détectés.

Returns:
    (Counter) Le compteur de types de profils utilisateur (Blog, Photographe, Acteur, etc.), si le type de compte est 'Business' seulement.
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_ae21bbe88ed8f0421aba11b51df3fc03f}\label{classuser_1_1_user_ae21bbe88ed8f0421aba11b51df3fc03f}} 
\index{user\+::\+User@{user\+::\+User}!get\+Comment\+Score@{get\+Comment\+Score}}
\index{get\+Comment\+Score@{get\+Comment\+Score}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{get\+Comment\+Score()}{getCommentScore()}}
{\footnotesize\ttfamily def user.\+User.\+get\+Comment\+Score (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{comment }\end{DoxyParamCaption})}

\begin{DoxyVerb}Retourne le score de commentaire basé sur le modèle de commentaires.
Les commentaire les plus pertinents pour une photo (= dont les mots importants sont peu utilisés dans le modèle de commentaires) sont privilégiés.
Les commentaires les plus longs sont privilégiés.

Args:
    comment (str): le commentaire texte.

Returns:
    (int) Le score de qualité de commentaire, situé entre 0 et 1.
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_ab013b6d1535fe2b752a8eb5649018a1c}\label{classuser_1_1_user_ab013b6d1535fe2b752a8eb5649018a1c}} 
\index{user\+::\+User@{user\+::\+User}!get\+Contrast@{get\+Contrast}}
\index{get\+Contrast@{get\+Contrast}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{get\+Contrast()}{getContrast()}}
{\footnotesize\ttfamily def user.\+User.\+get\+Contrast (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{img }\end{DoxyParamCaption})}

\begin{DoxyVerb}Retourne le contraste global de l'image en passant par un calcul d'entropie.

Args:
    img (Image PIL) : l'image N&B qu'on considère pour l'étude (matrice d'entiers allant de 0 à 255).

Returns:
    (int) Le contraste de l'image.
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_a1876aea4aa2e915ff8e933910f2df6e4}\label{classuser_1_1_user_a1876aea4aa2e915ff8e933910f2df6e4}} 
\index{user\+::\+User@{user\+::\+User}!get\+Image\+Colorfulness@{get\+Image\+Colorfulness}}
\index{get\+Image\+Colorfulness@{get\+Image\+Colorfulness}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{get\+Image\+Colorfulness()}{getImageColorfulness()}}
{\footnotesize\ttfamily def user.\+User.\+get\+Image\+Colorfulness (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{image }\end{DoxyParamCaption})}

\begin{DoxyVerb}Retourne l'intensité colorimétrique de l'image.

Args:
        image (Image PIL) : l'image qu'on considère pour l'étude.

Returns:
        (int) L'intensité colorimétrique de l'image.
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_a8fb05076e464cc8df275207908fd30bc}\label{classuser_1_1_user_a8fb05076e464cc8df275207908fd30bc}} 
\index{user\+::\+User@{user\+::\+User}!get\+Most\+Dominant\+Colour@{get\+Most\+Dominant\+Colour}}
\index{get\+Most\+Dominant\+Colour@{get\+Most\+Dominant\+Colour}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{get\+Most\+Dominant\+Colour()}{getMostDominantColour()}}
{\footnotesize\ttfamily def user.\+User.\+get\+Most\+Dominant\+Colour (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{image }\end{DoxyParamCaption})}

\begin{DoxyVerb}Retourne la couleur dominante de l'image.

Args:
        image (Image PIL) : l'image qu'on considère pour l'étude.

Returns:
        (tuple) La couleur dominante de l'image dans le repère lab*.
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_a7dfe5ca7988fd34b0c801742a5aa84e6}\label{classuser_1_1_user_a7dfe5ca7988fd34b0c801742a5aa84e6}} 
\index{user\+::\+User@{user\+::\+User}!get\+User\+Info\+IG@{get\+User\+Info\+IG}}
\index{get\+User\+Info\+IG@{get\+User\+Info\+IG}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{get\+User\+Info\+I\+G()}{getUserInfoIG()}}
{\footnotesize\ttfamily def user.\+User.\+get\+User\+Info\+IG (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Récupération des critères de l'utilisateur via l'API d'Instagram.
Utilisée lorsqu'on veut tester notre modèle en live, sur un utilisateur qui n'est pas forcément en base.

Args:
(none)

Returns:
(none)
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_a5b18648f492550fba80fd13478888d1d}\label{classuser_1_1_user_a5b18648f492550fba80fd13478888d1d}} 
\index{user\+::\+User@{user\+::\+User}!get\+User\+Info\+S\+QL@{get\+User\+Info\+S\+QL}}
\index{get\+User\+Info\+S\+QL@{get\+User\+Info\+S\+QL}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{get\+User\+Info\+S\+Q\+L()}{getUserInfoSQL()}}
{\footnotesize\ttfamily def user.\+User.\+get\+User\+Info\+S\+QL (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}On récupère les posts de l'utilisateur à partir de la BDD, et on en extrait les features nécessaires pour l'apprentissage.
L'intérêt de cette méthode est qu'on peut solliciter la BDD très vite par rapport à l'API Instagram, ce qui nous permet de faire un
apprentissage 'rapide'!
La méthode est cependant très similaire à `self.getUserInfoIG()`.

Args:
        (none)

Returns:
        (none)
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_a09bf41f6ea57ec2ce77fa616738d08bc}\label{classuser_1_1_user_a09bf41f6ea57ec2ce77fa616738d08bc}} 
\index{user\+::\+User@{user\+::\+User}!get\+User\+Names@{get\+User\+Names}}
\index{get\+User\+Names@{get\+User\+Names}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{get\+User\+Names()}{getUserNames()}}
{\footnotesize\ttfamily def user.\+User.\+get\+User\+Names (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{limit = {\ttfamily 0} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Récupère les usernames des utilisateurs annotés.

Args:
limit (int) : La limite du nombre d'utilisateurs à retourner.

Returns:
(list) : la liste des noms d'utilisateur issus de la BDD.
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_a91c0417fe409dae061a9acc84222e124}\label{classuser_1_1_user_a91c0417fe409dae061a9acc84222e124}} 
\index{user\+::\+User@{user\+::\+User}!process\+Word\+Comment@{process\+Word\+Comment}}
\index{process\+Word\+Comment@{process\+Word\+Comment}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{process\+Word\+Comment()}{processWordComment()}}
{\footnotesize\ttfamily def user.\+User.\+process\+Word\+Comment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{word }\end{DoxyParamCaption})}

\begin{DoxyVerb}Pré-processe le commentaire.

Args:
    word (str) : le mot.

Return:
    (str) Le mot pré-processé.
\end{DoxyVerb}
 \mbox{\Hypertarget{classuser_1_1_user_a2bf236a7cfb42cb97298c49d29330e69}\label{classuser_1_1_user_a2bf236a7cfb42cb97298c49d29330e69}} 
\index{user\+::\+User@{user\+::\+User}!test\+Comment\+Score@{test\+Comment\+Score}}
\index{test\+Comment\+Score@{test\+Comment\+Score}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{test\+Comment\+Score()}{testCommentScore()}}
{\footnotesize\ttfamily def user.\+User.\+test\+Comment\+Score (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Tooling permettant de tester les scores des commentaires utilisateur.

Args:
    (none)

Returns:
    (none)
\end{DoxyVerb}
 

\subsection{Member Data Documentation}
\mbox{\Hypertarget{classuser_1_1_user_a40419b31c47368b454fa2003b5df9307}\label{classuser_1_1_user_a40419b31c47368b454fa2003b5df9307}} 
\index{user\+::\+User@{user\+::\+User}!config@{config}}
\index{config@{config}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{config}{config}}
{\footnotesize\ttfamily user.\+User.\+config}



L\textquotesingle{}utilisateur hérite de la classe {\ttfamily object}. 

\paragraph*{}

On charge les variables depuis le fichier de config. \#\#\# \mbox{\Hypertarget{classuser_1_1_user_a7e0889f882283a613c48be7c1c5802cb}\label{classuser_1_1_user_a7e0889f882283a613c48be7c1c5802cb}} 
\index{user\+::\+User@{user\+::\+User}!engagement@{engagement}}
\index{engagement@{engagement}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{engagement}{engagement}}
{\footnotesize\ttfamily user.\+User.\+engagement}



Initialisation des listes de stockage pour les métriques. 

\paragraph*{}

Timestamps et taux d\textquotesingle{}engagement\+: métriques immédiates. \#\#\# On récupère le code binaire des images en B\+DD, et on y opère les traitements \+: \#\#\#
\begin{DoxyItemize}
\item S\+TD du contraste \#\#\#
\item S\+TD de l\textquotesingle{}intensité colorimétrique \#\#\#
\item Distorsion des clusters de couleur \#\#\# On essaye d\textquotesingle{}avoir les images des posts afin de les traiter automatiquement et en extraire les features. \#\#\# Si erreur il y a, on passe à la suivante sans breaker le script. \#\#\# On récupère les octets de l\textquotesingle{}image. \#\#\# On convertit l\textquotesingle{}image en N\&B pour l\textquotesingle{}étude du contraste. \#\#\# On ajoute la couleur dominante du post pour une analyse colorimétrique. \#\#\# On récupère le taux de colorité de l\textquotesingle{}image, qu\textquotesingle{}on ajoute à la liste globale si cette première n\textquotesingle{}est pas nan. \#\#\# On récupère le taux de contraste de l\textquotesingle{}image, qu\textquotesingle{}on ajoute à la liste globale si cette première n\textquotesingle{}est pas nan. \#\#\# Pour l\textquotesingle{}instant on ne s\textquotesingle{}en sert pas, à ré-\/utiliser quand on s\textquotesingle{}intéressera à la détection des placements de produits. \#\#\# On parcourt les commentaires du post pour en extraire le \char`\"{}score de commentaires\char`\"{}. \#\#\# Si le nombre de commentaires est trop bas, on affecte des valeurs particulières. \#\#\# En effet, la variance d\textquotesingle{}une VA prend en arguments deux points de données minimum. \#\#\# Dernière phase\+: on affecte les variables d\textquotesingle{}instance (= features) une fois que tous les critères ont été traités. \#\#\# 
\end{DoxyItemize}\mbox{\Hypertarget{classuser_1_1_user_a6bd90421024505f3be18cab7f2b56dd8}\label{classuser_1_1_user_a6bd90421024505f3be18cab7f2b56dd8}} 
\index{user\+::\+User@{user\+::\+User}!Instagram\+A\+PI@{Instagram\+A\+PI}}
\index{Instagram\+A\+PI@{Instagram\+A\+PI}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{Instagram\+A\+PI}{InstagramAPI}}
{\footnotesize\ttfamily user.\+User.\+Instagram\+A\+PI}



Connexion à l\textquotesingle{}A\+PI. 

\paragraph*{}\mbox{\Hypertarget{classuser_1_1_user_a40a93b76c643c0eb076abc8ae0f15f31}\label{classuser_1_1_user_a40a93b76c643c0eb076abc8ae0f15f31}} 
\index{user\+::\+User@{user\+::\+User}!K@{K}}
\index{K@{K}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{K}{K}}
{\footnotesize\ttfamily user.\+User.\+K}



Paramètres de fonctions maths, pour ajustement de scores. 

\paragraph*{}\mbox{\Hypertarget{classuser_1_1_user_a31bd1f48a5a64a4319d8d93beca49706}\label{classuser_1_1_user_a31bd1f48a5a64a4319d8d93beca49706}} 
\index{user\+::\+User@{user\+::\+User}!lastpost@{lastpost}}
\index{lastpost@{lastpost}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{lastpost}{lastpost}}
{\footnotesize\ttfamily user.\+User.\+lastpost}



Initialisation des features pour l\textquotesingle{}apprentissage. 

On essaye d\textquotesingle{}extraire les features du profil Instagram.

\paragraph*{}

\paragraph*{}

Si il y a une erreur, on pass (on ne veut pas break e script en cas de re-\/promptage). \#\#\# Les {\ttfamily time.\+sleep} préviennent des erreurs 503, dues à une sollicitation trop soudaine de l\textquotesingle{}A\+PI Instagram. \#\#\# On initialise le temps de départ pour mesurer le temps d\textquotesingle{}exécution global. \#\#\# On questionne l\textquotesingle{}A\+PI à propos du nom d\textquotesingle{}utilisateur, cela nous retourne l\textquotesingle{}utilisateur en entier. \#\#\# On récupère le feed entier de l\textquotesingle{}utilisateur, afin d\textquotesingle{}analyser certaines métriques. \#\#\# On initialise les listes utiles pour l\textquotesingle{}étude. \#\#\# On affiche la longueur du feed retourné par l\textquotesingle{}A\+PI. \#\#\# On boucle sur le feed afin d\textquotesingle{}en extraire les données pertinentes pour le calcul de nos features. \#\#\# On prend 50 posts du feed pour ne pas avoir un temps d\textquotesingle{}éxécution trop long. \#\#\# T\+O\+DO\+: demander à l\textquotesingle{}A\+PI de ne pas récupérer l\textquotesingle{}intégralité des posts de l\textquotesingle{}utilisateur, mais simplement les 50 premiers. \#\#\# On affiche l\textquotesingle{}état de progression de l\textquotesingle{}analyse. \#\#\# Si le serveur renvoie une erreur (notamment 503), on attend 1 minute avant de renvoyer une requête. \#\#\# On ajoute le timestamp du post pour les analyses de fréquence. \#\#\# Si l\textquotesingle{}utilisateur n\textquotesingle{}a pas de followers, on considère que le taux d\textquotesingle{}engagement est 0 (au lieu d\textquotesingle{}infini). \#\#\# Pourcentage du taux d\textquotesingle{}engagement. \#\#\# On distingue plusieurs cas\+: celui où il y a commentaires et likes, celui où il en manque un des deux, et celui où il n\textquotesingle{}y a rien. \#\#\# On ajoute le taux d\textquotesingle{}engagement du post à la liste de taux d\textquotesingle{}engagement. \#\#\# On récupère le code binaire des images en B\+DD, et on y opère les traitements \+: \#\#\#
\begin{DoxyItemize}
\item S\+TD du contraste \#\#\#
\item S\+TD de l\textquotesingle{}intensité colorimétrique \#\#\#
\item Distorsion des clusters de couleur \#\#\# Depuis le J\+S\+ON de réponse de l\textquotesingle{}A\+PI, on récupère l\textquotesingle{}adresse U\+RL de la plus petite image. \#\#\# On fait une requête H\+T\+T\+P.\+G\+ET sur l\textquotesingle{}adresse récupérée, puis on entrait les octets de l\textquotesingle{}image en réponse. \#\#\# On convertit l\textquotesingle{}image en N\&B pour l\textquotesingle{}étude du contraste. \#\#\# On ajoute la couleur dominante du post pour une analyse colorimétrique. \#\#\# On récupère le taux de colorité de l\textquotesingle{}image, qu\textquotesingle{}on ajoute à la liste globale si cette première n\textquotesingle{}est pas nan. \#\#\# On récupère le taux de contraste de l\textquotesingle{}image, qu\textquotesingle{}on ajoute à la liste globale si cette première n\textquotesingle{}est pas nan. \#\#\# Fetch les marques détectées dans les posts. \#\#\# On récupère le score de commentaires sur tout le feed de l\textquotesingle{}utilisateur. \#\#\# On cherche tous les commentaires retournés dans la variable {\ttfamily comments\+\_\+server}. \#\#\# On ne prend que les 10 premier commentaires pour chaque post. \#\#\# Si la personne qui commente est l\textquotesingle{}auteur du post, alors on ignore le commentaire. \#\#\# Si on a une erreur, on attend une minute avant de recommencer l\textquotesingle{}opération. \#\#\# Assignation des critères et affichage des résultats. \#\#\# 
\end{DoxyItemize}\mbox{\Hypertarget{classuser_1_1_user_ad3a0ba5c1d994eef3cc7a0c5de2bfa85}\label{classuser_1_1_user_ad3a0ba5c1d994eef3cc7a0c5de2bfa85}} 
\index{user\+::\+User@{user\+::\+User}!n\+\_\+clusters@{n\+\_\+clusters}}
\index{n\+\_\+clusters@{n\+\_\+clusters}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{n\+\_\+clusters}{n\_clusters}}
{\footnotesize\ttfamily user.\+User.\+n\+\_\+clusters}



Ici, on cherche à avoir la distorsion des k-\/means des couleurs du feed. 

\paragraph*{}

Parfois, on peut avoir que une ou deux couleurs outputées du k-\/mean. \#\#\# Si on a une erreur, on baisse le nombre de clusters jusqu\textquotesingle{}à ce que le k-\/mean puisse être opéré. \#\#\# \mbox{\Hypertarget{classuser_1_1_user_adf4a399faa3ea66427ecf7cb8a1bbb89}\label{classuser_1_1_user_adf4a399faa3ea66427ecf7cb8a1bbb89}} 
\index{user\+::\+User@{user\+::\+User}!sql\+Client@{sql\+Client}}
\index{sql\+Client@{sql\+Client}!user\+::\+User@{user\+::\+User}}
\subsubsection{\texorpdfstring{sql\+Client}{sqlClient}}
{\footnotesize\ttfamily user.\+User.\+sql\+Client}



Instanciation du client S\+QL. 

\paragraph*{}
